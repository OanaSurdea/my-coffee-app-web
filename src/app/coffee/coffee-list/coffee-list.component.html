<div>

  <!-- List View Options -->
  <div class="mb-3 text-end">

    <!-- Sort By -->
    <mat-button-toggle-group
      name="selectedSortByOption"
      [(ngModel)]="selectedSortByOption"
      aria-label="Sort by">

      <mat-button-toggle
        *ngFor="let option of sortByOptions | keyvalue"
        [value]="option.value"
        (click)="renderCoffeeList()">
        {{ option.key }}
      </mat-button-toggle>
    </mat-button-toggle-group>

    <span>&nbsp;&nbsp;</span>

    <!-- Sort Direction -->
    <mat-button-toggle-group
      name="selectedSortDirectionOption"
      [(ngModel)]="selectedSortDirectionOption"
      aria-label="Sort direction">

      <mat-button-toggle
        *ngFor="let option of sortDirectionOptions | keyvalue"
        [value]="option.value"
        (click)="renderCoffeeList()">
        <mat-icon>
          {{ option.value === 'asc' ? 'arrow_upward' : 'arrow_downward' }}
        </mat-icon>
      </mat-button-toggle>
    </mat-button-toggle-group>

    <span>&nbsp;&nbsp;</span>

    <!-- Layout -->
    <mat-button-toggle-group
      name="selectedLayoutOption"
      [(ngModel)]="selectedLayoutOption"
      aria-label="Layout">

      <mat-button-toggle
        *ngFor="let option of layoutOptions | keyvalue"
        [value]="option.value"
        (click)="renderCoffeeList()">
        <mat-icon>
          {{ option.value === 'list' ? 'view_list' : 'view_comfy' }}
        </mat-icon>
      </mat-button-toggle>
    </mat-button-toggle-group>
  </div>

  <!-- List -->
  <div class="coffeeList coffeeList--{{ selectedLayoutOption }}View">
    <ng-container *ngFor=" let coffee of coffees$ | async; let i=index">
      <mat-card matBadge="1" matBadgeSize="large" class="shadow">

        <!-- Header -->
        <mat-card-header>
          <mat-card-title class="mb-3">
            <a
              [routerLink]="['/coffees', coffee.id]"
              class="text-dark text-decoration-none">
              {{ coffee.name }}
            </a>
          </mat-card-title>

          <mat-card-subtitle>
            <span>Place: {{ coffee.cafeName }}</span>
            <br>
            <span>Rating: {{ coffee.rating }}</span>
            <br>
            <span>Created: {{ coffee.createdAt.toDate()| date: 'd MMMM y' }}</span>
          </mat-card-subtitle>
        </mat-card-header>

        <!-- Actions -->
        <mat-card-actions>
          <button
            mat-stroked-button
            color="accent"
            aria-label="Example icon button with map icon"
            (click)="openMaps(coffee)">Map<mat-icon>map</mat-icon>
          </button>

          <button
            mat-stroked-button
            color="accent"
            aria-label="Example icon button with a list icon"
            (click)="viewCoffeeDetails(coffee.id)">Details<mat-icon>list</mat-icon>
          </button>

          <button
            mat-stroked-button
            color="accent"
            aria-label="Example icon button with a share icon"
            class="mx-0"
            (click)="shareCoffeeRating(coffee)">Share<mat-icon>share</mat-icon>
          </button>
        </mat-card-actions>

      </mat-card>
    </ng-container>
  </div>

  <!-- Add new -->
  <div>
    <a mat-fab
      color="primary"
      routerLink="/coffees/add"
      aria-label="add-new-coffee"
      class="position-fixed bottom-0 end-0 m-4">
      <mat-icon>add</mat-icon>
    </a>
  </div>

</div>
